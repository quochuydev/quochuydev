## Neo4j + LlamaIndex + Spec-kit

### Command

```sh
pyenv install 3.11.9

pyenv local 3.11.9

# Optional
pyenv rehash

pyenv exec pip install --upgrade pip

pyenv exec pip install fastmcp "mcp[cli]"

pyenv exec pip install llama-index-llms-openai llama-index-embeddings-openai

pyenv exec pip install llama-index-vector-stores-neo4jvector neo4j

pyenv exec pip install dotenv llama-index pydantic tavily-python

pyenv exec python3 ./src/index.py

```

### Hotel Booking

```
/specify You are a hotel booking assistant. Collect all details needed to reserve a hotel room and confirm them before finalizing. Always ask for: destination city or hotel name, check-in and check-out dates, number of guests (adults and children), and preferred room type (single, double, suite, etc.). Offer options for bed type, smoking preference, view, and additional services like breakfast, parking, late check-out, or accessibility features. After gathering details, repeat them back, show availability and pricing, and suggest alternatives if needed. Provide clear next steps: confirm, modify, or cancel. Keep responses concise, professional, and user-friendly.
```

### Loan Calculator

```
/specify Design a mini-app that calculates loan repayment schedules using reducing balance method and amortized loan method. The app should allow users to input loan amount, interest rate, loan term, and repayment frequency. Output should include a detailed month-by-month schedule showing principal, interest, remaining balance, and total payment. Provide summary metrics such as total interest paid and total repayment amount. Ensure calculations are precise and consistent with financial standards. UI must be simple, mobile-friendly, and fast, with clear charts/tables for comparison between methods. Include option to export results as CSV or PDF.
```

### Loyalty App

```
/specify Design a loyalty app where users earn points whenever they use core features of the platform (e.g., loan calculation, report export, subscription actions). Each interaction should log points automatically and update the userâ€™s balance in real time. The app must include a clear dashboard showing current points, history of earned points, and available rewards. Users can redeem points for digital or physical gifts, with an intuitive redemption flow. Add gamification elements like streak bonuses, tier levels, and leaderboards to drive engagement. Provide APIs for extensibility so future features can also trigger point rewards seamlessly.
```

### Credit company

```
/specify Design an internal CRM-like system for a credit company where employees can analyze customer financial data and manage outreach. The system should aggregate user loan history, repayment behavior, credit score, and risk indicators into a unified dashboard. Employees must be able to filter and segment customers by criteria (e.g., overdue accounts, high-risk, loyal payers). Include tools to generate insights such as repayment probability and recommended next actions. Provide secure communication features so staff can contact users via phone, SMS, or email directly from the platform, with logging of all interactions for compliance and performance tracking.
```

### X

```
As an AI engineer, you and me building an app for PM/BA in company build MVC demo for dealing with customer.

He will show app UI and Event storming - Generated by claude code.
App will search via Agent RAG for reuse history flow.

How do you think about app flow for user (PM/BA)?

Technical expect:
- Speckit for analysis; Agent RAG with llamaindex and neo4j; event storming with drawio;

Expect features:
- RAG data bank to find related history flow existed for reusing.
- Versioning; Milestones
```

### Neo4j

```sql
CREATE (c1:Command {id: "Command:CreateBooking", name: "CreateBooking", description: "User initiates booking with dates and room type"}),
    (e1:DomainEvent {id: "Event:BookingCreated", name: "BookingCreated", description: "Booking successfully created", timestamp: "t0"}),
    (agg1:Aggregate {id: "Aggregate:Booking", name: "Booking", entity: "Booking"}),
    (p1:Policy {id: "Policy:SendConfirmation", name: "SendConfirmationEmail"}),
    (e2:DomainEvent {id: "Event:ConfirmationSent", name: "ConfirmationSent", description: "Guest receives booking confirmation email", timestamp: "t1"}),
    (a1:Actor {id: "Actor:Guest", role: "Guest"}),
    (a2:Actor {id: "Actor:System", role: "System"}),
    (a1)-[:ISSUES]->(c1),
    (c1)-[:TRIGGERS]->(e1),
    (e1)-[:UPDATES]->(agg1),
    (e1)-[:TRIGGERS_POLICY]->(p1),
    (p1)-[:EMITS]->(e2),
    (e2)-[:NOTIFIES]->(a1),
    (a2)-[:HANDLES]->(p1);
```

```sql
MATCH (n) DETACH DELETE n;

CREATE (p: Project {
    id: "Project:BookingApp",
    name: "BookingApp"
});

CREATE (entity: Entity {
    id: "Entity:Booking",
    version: "v1",
    content: "GuestDetails, Dates, RoomSelection, PaymentInformation"
});

MATCH (entity: Entity {id: "Entity:Booking", version: "v1"}),
      (p: Project { id: "Project:BookingApp" })
CREATE (entity)-[:Related]->(p);

CREATE (entity: Entity {
    id: "Entity:Room",
    version: "v1",
    content: "RoomType, RoomNumber, RoomCapacity, RoomPrice"
});

MATCH (entity: Entity {id: "Entity:Room", version: "v1"}),
      (p: Project { id: "Project:BookingApp" })
CREATE (entity)-[:Related]->(p);

CREATE (entity: Entity {
    id: "Entity:Booking",
    version: "v2",
    content: "GuestDetails, Dates, RoomSelection, PaymentInformation"
});

MATCH (entity: Entity {id: "Entity:Booking", version: "v2"}),
      (p: Project { id: "Project:BookingApp" })
CREATE (entity)-[:Related]->(p);

CREATE (entity: Entity {
    id: "Entity:User",
    version: "v3",
    content: "FirstName, LastName, Email, Phone, Address"
});

MATCH (entity: Entity {id: "Entity:User", version: "v3"}),
      (p: Project { id: "Project:BookingApp" })
CREATE (entity)-[:Related]->(p);

CREATE (p: Project {
    id: "Project:LoanApp",
    name: "LoanApp"
});

MATCH (entity: Entity { id: "Entity:User", version: "v3" }),
      (p: Project { id: "Project:LoanApp" })
CREATE (entity)-[:Related]->(p);
```
