---
title: LLM-Powered Neo4j Entity Management MVP
description: Demo showing how GPT-4 agent can create, relate, and query entities in Neo4j using natural language instructions.
---

# **Implement LLM-Powered Neo4j Entity Management**
## **Overview: Purpose and Problem Solving**
- This MVP demonstrates managing entities, fields, and relationships in a Neo4j graph database using a GPT-4 agent.  
- It eliminates manual Cypher queries and allows users to describe database operations in natural language.  

## **Proposal**
- Use GPT-4 via `FunctionAgent` from `llama_index` to interpret instructions and execute Neo4j operations.  
- Integrate `Neo4jPropertyGraphStore` to store and retrieve entities, fields, and relationships programmatically.  

## **Weighting / Pros and Cons**
### **Pros**
- Rapid prototyping of database structure without writing Cypher manually.  
- Easy extension to new projects, entities, or relationships through simple instructions.  
- Structured JSON output enables integration with other systems.  

### **Cons**
- Hardcoded credentials and minimal error handling reduce production readiness.  
- Performance may decrease with many entities or fields due to individual `MERGE` operations.  
- Agent instructions require careful formatting to avoid misinterpretation.  

## **Implementation Steps**
### **1. Setup Environment**
- Install required packages: `neo4j`, `llama_index`, `openai`, `pydantic`, `dotenv`.  
- Configure `.env` for API keys and Neo4j credentials.  

### **2. Connect to Neo4j**
- Use `checkNeo4jConnection()` to verify connectivity and raise error if unavailable.  
- Initialize `Neo4jPropertyGraphStore` for structured queries.  

### **3. Define Data Models**
- Create `EntityDetails`, `CreateEntityResponse`, and `CreateRelationResponse` with Pydantic for validation.  
- These models ensure consistent and strict JSON responses.  

### **4. Implement CRUD Functions**
- `createEntity(project, entity, fields)` creates project, entity, and fields in Neo4j.  
- `createRelation(source, target, relation)` adds relationships between entities.  
- `getEntityDetails(entity)` retrieves entity, fields, and related entities in JSON format.  

### **5. Wrap Functions as Tools**
- Use `FunctionTool.from_defaults()` to expose each CRUD function to the agent.  
- Prepare `FunctionAgent` with `tools=[createEntityTool, createRelationTool, getEntityTool]` for LLM-driven execution.  

### **6. Run Agent for Demo**
- Execute `agent.run()` with natural language instructions to create entities and relationships.  
- Query entity details to verify successful insertion and relations.  

## **Conclusion**
- This MVP shows GPT-4 as an intelligent interface for Neo4j, simplifying entity management.  
- The system can be expanded for multiple projects, dynamic instructions, and automated knowledge graph construction.
