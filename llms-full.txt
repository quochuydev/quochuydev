# quochuydev

### Introduction

```
As a Fullstack/Typescript/NodeJs Developer/Solution engineer, Strong in NodeJS, ReactJS, MongoDB, PostgreSQL, AWS.
```

### Research

```
Give me simple code around 20 lines, using llamaindex resolve it.

Parse event storming flows ‚Üí nodes/edges ‚Üí store in graph DB (Neo4j).
```

### Documents

```markdown
As a Solution Engineer. Based on the code Minimum viable product / Proof of concept / Demo.
Write me the technical document for presentation, follow the template below.
Each section should have from 2-3 sentences. Simple English and easy to understand. Technical should be camelCase and in code block.
No need AI start/end content.

As a Solution Engineer. Based on your understand about WebRTC and LiveKit.
Write me the comparison technical document, follow the template below.
Each section should have from 2-3 sentences. Simple English and easy to understand. Technical should be camelCase and in code block.
No need AI start/end content.

As a Solution Engineer/Fullstack Javascript Developer. Based on your understand about LiveKit.
Write me the technical document, about a request asking the Project manager to agree to use LiveKit.
Document follow the template below:
- Each section should have from 2-3 sentences. Pros and Cons should be from 2-5 sentences.
- Simple English and easy to understand. Technical should be camelCase and in code block.
- No need AI start/end content.

As a Solution Engineer. Based on your understand about WebRTC and LiveKit.
Write me the comparison technical document, follow the template below.
Each section should have from 2-3 sentences. Simple English and easy to understand. Technical should be camelCase and in code block.
No need AI start/end content.

As a Solution Engineer/Fullstack Javascript Developer.
Write me the comparison technical document between `better-auth` vs `next-auth`
Document follow the template below:
- Simple English and easy to understand. Technical should be camelCase and in code block.
- No need AI start/end content.
- Each section should have from 2-5 sentences.
- Conclusion should be short, clear. Should use or not or should use other.
- References is optional, depends on your searching. Display links.

---
title: ...
description: ...
---

# **Implement ....**
## **Overview: Purpose and Problem Solving**
- ...
## **Proposal**
- ...
## **Weighting / Pros and Cons**
### **Pros**
- ...
### **Cons**
- ...
## **Implementation Steps**
### **1. ...
- ...
### **2. ....
- ...
...
## **Conclusion**
- ...
...
## **References**
- ...
...
```

### Web instruction

````markdown
  As a AI Engineer/Solution Engineer. Based on the code Minimum viable product / Proof of concept / Demo.
  Write me the web instruction document for AI generate web UI consistent.
  Each section should have from 2-3 sentences. Simple English and easy to understand. Technical should be camelCase and in code block.
  No need AI start/end content. follow the template below:

  ## Role

  You are a **AI Engineer, Solution Engineer** who translates business needs into structured outputs.

  ## Core Objectives

  **Best Practices:**

  **Output template**

  ```yaml
  Style:
    - Theme: <Minimalist | Playful | Corporate | Modern | Custom>
    - Typography: <Sans-serif, Serif, Monospace, etc.>
    - UI Elements: <Rounded, Flat, Glassmorphism, etc.>

  Color Scheme:
    - Primary: ...
    - Secondary: ...
    - Neutral: ...
    - Accent: ...
    - Background: ...
    - Text: ...

  Main Features:
    - Feature: ...
      Description: ...
      Components: [...]
      DataBinding: <API endpoint | Event>

  Navigation:
    - Type: <Sidebar | Topbar | Tabs | Other>
    - Structure: [...]

  Interactions:
    - Animations: <Subtle, Dynamic, None>
    - Human-in-the-Loop Inputs: <Forms, Approvals, Feedback>

  Accessibility:
    - Compliance: <WCAG 2.1 AA | Custom>
    - Features: [High contrast mode, Screen reader support, etc.]
````

***

```

### Mermaid

```

```
```


## AI Website Builder

You are a senior fullstack developer and UI/UX expert. Generate a complete **MULTI-PAGE** modern responsive website for the following business:

### Business Details:

* Business Name: ANA MANDARA VILLAS DALAT RESORT & SPA
* Type: Resort & services booking
* Target Audience: Tourist, local members
* Purpose of Site: Attract local members, show services and allow booking
* Main Features Needed:
  * Hero section with CTA
  * Services section
  * Testimonials
  * Membership pricing
  * Contact form + embedded map

### APIs

```
‚îú‚îÄ‚îÄ app
‚îÇ ‚îú‚îÄ‚îÄ api
‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ 
‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ 
```

### Pages

```
```

### components

#### SEO

* Support (Optional) Google Analytics ID
* Support (Optional) plausible.io ENV

#### Header

* Left Menu
* Logo
* Language switcher (EN/VI)

#### Campaign

```
```

#### Booking

```
Form
  Input: Phone number
  Input: Name
  Input: Number of people
  Date Select: Check-in date
  Date Select: Check-out date
  Button: Book now
```

#### Gallery

#### Contact

#### Footer

### Design Preferences:

* Style: Bold, modern, energetic
* Colors: Black, red, and white
* Font Preferences: Modern sans-serif, high-impact headline fonts
* Example Sites for Inspiration: [https://www.fitnesssf.com/](https://www.fitnesssf.com/), [https://www.f45training.com/](https://www.f45training.com/)

### Tech Stack:

* Typescript
* Next.js app router
* Tailwind CSS
* Shadcn UI for components
* Add subtle animations using Framer Motion
* React Hook Form for form handling
* React Query for data fetching
* React Router for routing

### Deliverables:

* Full working code (including all components/pages)
* Clean modular code structure
* SEO & accessibility best practices
* /llm-full.txt
* Responsive design for all screen sizes
* Dummy data for images/content




## Event Storming to Draw\.io XML Generator

### Role

You are a specialized AI that converts event storming YAML input into valid Draw\.io XML format.

### Core Requirements

#### Element Colors (Hex Values)

| Element          | Color                  |
| ---------------- | ---------------------- |
| actor            | `#fee750`              |
| event            | `#feae57`              |
| command          | `#a7c5fc`              |
| policy           | `#da99e6` or `#fef5b2` |
| external\_system | `#ffb3c5`              |
| read\_models     | `#b0deb3`              |

#### Generation Process & Rules

1. Scan the YAML and remember all the elements and flows.
2. Generate swimlane container with `meta.name`
3. Read the `flows` list, extract, and create all elements with appropriate colors and styles.

* Always use square note shape (even `actor`).

* Display the element `name`.

* If you see a reference with a suffix (`A.User.1`, `A.User.2`), that means it‚Äôs a reference instance. Create elements with the same `name` and `color`.

  * Example:

  ```yaml
  actors:
    - id: A.User
      name: "User"

  flows:
    - from: A.User.1
      to: C.RegisterUser
    - from: A.User.2
      to: C.LoginUser
  ```

  * In this case will have **2 elements** with name `User` and color `#fee750`.

* **Important:** If the `policy` element is before the `event` element, OR the `policy` element is after the `command` element.

  * Example:

  ```yaml
  flows:
    - from: P.Policy1
      to: E.Event1
    - from: C.Command1
      to: P.Policy2
  ```

  * In this case, the element `fill color` must be `#fef5b2`, width `240px`, height `180px`.

* `vertical_boundary` in an `event` is the line the goes through the element (under the element). Example:

  ```yaml
  events:
    - id: E.Event1
      name: "Event 1"
      vertical_boundary: true
  ```

4. Read the `flows` list, generate connection lines, and link the `source_id` to the `target_id` in a connection line.
5. Ensure all XML tags are properly closed

#### Example Input

```yaml
commands:
  - id: C.LoginUser
    name: "Login User"

policies:
  - id: P.SessionPolicy
    name: "Session Management Policy"
  - id: P.OnSuccessNavigate
    name: "On Success"
  - id: P.OnFailureShowError
    name: "On Failure"

events:
  - id: E.LoginAttempted
    name: "Login Attempted"

flows:
  - from: C.LoginUser
    to: P.SessionPolicy
  - from: P.SessionPolicy
    to: E.LoginAttempted
  - from: P.ProfileEditPolicy
    to: E.EditModeActivated
```

#### XML Structure Template

```xml
<mxGraphModel>
  <root>
    <mxCell id="0" />
    <mxCell id="1" parent="0" />
    <!-- Swimlane container -->
    <mxCell id="2" value="{context_name}" style="swimlane;startSize=30;horizontal=1;" vertex="1" parent="1">
      <mxGeometry x="0" y="0" width="2000" height="800" as="geometry" />
    </mxCell>
    <!-- Elements and connections -->
  </root>
</mxGraphModel>
```

**Element pattern**

```xml
<mxCell id="{reference_id or id}" value="{name}"
  style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;fillColor={color};strokeColor=none;fontSize=16;fontStyle=0;rotation=0;shadow=1;"
  vertex="1" parent="2">
  <mxGeometry x="{x}" y="{y}" width="120" height="120" as="geometry" />
</mxCell>
```

**Connection style pattern**

```xml
<mxCell id="{id}" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;"
  edge="1" parent="2" source="{source_id}" target="{target_id}">
  <mxGeometry relative="1" as="geometry" />
</mxCell>
```

**Vertical boundary pattern**

```xml
<mxCell id="2" value="" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=none;fillColor=#eae847;rotation=90;" vertex="1" parent="1">
  <mxGeometry x="{x}" y="{y}" width="{>=300}" height="10" as="geometry" />
</mxCell>
```

#### Output Format

* Generate **only** valid Draw\.io XML - no explanations, markdown, or code blocks
* Ensure all XML tags are properly closed and nested
* Use Draw\.io's mxGraphModel schema structure

### Critical Constraints

* **No explanatory text** - return only XML content
* **No code fences** - raw XML output only
* **Complete structure** - all elements must be properly nested
* **Proper geometry** - realistic x,y coordinates and dimensions
* **Valid IDs** - sequential numeric IDs without conflicts
* **Color accuracy** - exact hex values as specified
* **Color style** - The color of the element has to be correct

### Error Prevention

* Validate all XML tags are closed
* Check parent-child relationships are correct
* Ensure geometry coordinates don't overlap
* Verify all referenced IDs exist
* Confirm color codes match the specification exactly


```
tf 01 command UpdateCartCommand
tf 02 event CartUpdatedEvent ->> 01
tf 03 readModel CartItemsReadModel ->> 02
tf 04 policy CartAccessPolicy ->> 03
tf 05 external CartExternalSystem ->> 04
tf 06 subprocess CartSubProcess
```


```sh
export MIRO_ACCESS_TOKEN=""
export MIRO_BOARD_ID=""

curl 'https://api.miro.com/v2/boards' -H 'Content-Type: application/json' -H "Authorization: Bearer ${MIRO_ACCESS_TOKEN}" | jq

curl --location "https://api.miro.com/v2/boards/${MIRO_BOARD_ID}/items/bulk" \
-H 'Content-Type: application/json' \
-H "Authorization: Bearer ${MIRO_ACCESS_TOKEN}" \
--data '[
    {
      "type": "sticky_note",
      "data": { "content": "SearchEvents", "shape": "square" },
      "style": { "fillColor": "light_blue", "textAlign": "center" },
      "position": { "x": 0, "y": 0 }
    },
    {
      "type": "sticky_note",
      "data": { "content": "EventListed", "shape": "square" },
      "style": { "fillColor": "orange", "textAlign": "center" },
      "position": { "x": 300, "y": 0 }
    },
    {
      "type": "sticky_note",
      "data": { "content": "Payment must be authorized", "shape": "square" },
      "style": { "fillColor": "violet", "textAlign": "center" },
      "position": { "x": 600, "y": 0 }
    },
    {
      "type": "sticky_note",
      "data": { "content": "Paypal", "shape": "square" },
      "style": { "fillColor": "red", "textAlign": "center" },
      "position": { "x": 900, "y": 0 }
    },
    {
      "type": "sticky_note",
      "data": { "content": "PaymentSucceeded", "shape": "square" },
      "style": { "fillColor": "light_green", "textAlign": "center" },
      "position": { "x": 1200, "y": 0 }
    }
  ]'
```


## üí¨ Freelancer Client Communication Guide

#### üìå 1. General Principles

* Always **confirm understanding**
* Keep messages short but informative
* Use bullet points when sharing updates
* Use the client‚Äôs tone (formal/informal, emojis if they use them)
* Over communicate at the start, under communicate later

#### üì• 2. When You Receive a New Task

> üîπ Your goal: Clarify scope, avoid assumptions

```txt
Thanks for sending over the task!

Just to confirm, here‚Äôs what I understand:
- [Point 1]
- [Point 2]
- Final output: [e.g., deployed API or zipped code]

Please let me know if I missed anything. Once confirmed, I‚Äôll start right away.
```

#### 3. While Working On The Task

> üîπ Your goal: Keep the client in the loop

üîÅ Regular Update Template:

`````txt
Hi [Client Name],

Quick update on the task:
- ‚úÖ Login API done
- ‚ö†Ô∏è Stripe webhook pending (waiting for test credentials)
- ETA for completion: [Day or time]

Let me know if you want me to adjust anything!
üì∑ Screenshot + GitHub Link:
Include these to build trust even when things are in progress.

### üì§ 4. When You Deliver the Task

> üîπ Your goal: Make it easy to review and approve

````txt
Hey [Client Name],

Here‚Äôs the completed task:

üîó GitHub: https://github.com/yourname/task-demo
üì∑ Screenshot: [Attach or link]
üìÑ Summary:
- Login API with JWT auth
- Protected route for `/profile`
- Basic error handling added

Let me know if you want any changes or improvements!
üîÅ Always follow up in 1‚Äì2 days if they don‚Äôt reply:
```txt
Hi [Client Name],
Just checking in to see if everything looks good with the last delivery.
Let me know if you need tweaks ‚Äî happy to help!
`````

#### ‚úçÔ∏è 5. Requesting Feedback (After Completion)

````txt
Glad we wrapped that up!

If you‚Äôre happy with the work, I‚Äôd really appreciate a short review on Upwork.
It helps me a lot as I grow my freelance profile. üôè

Also feel free to ping me anytime you need backend/API help!s

### üö´ 6. If There's a Problem

> üîπ Always own it, never blame, give solutions

```txt
Hi [Client Name],

Sorry for the delay ‚Äî I ran into [brief reason], but I‚Äôm resolving it now.
New ETA is [date], and I‚Äôll update you again by [time].

Thanks for your patience ‚Äî I‚Äôll make sure the final result is solid.
````

#### üí° 7. Communication Tools & Etiquette

| Tool       | Rule                                                        |
| ---------- | ----------------------------------------------------------- |
| Upwork     | Use it for all messages/payments until trust is established |
| Email      | Use for long-form or official handovers                     |
| Slack/Zoom | Be clear, be on time, prepare a short agenda                |
| Voice call | Keep short, confirm with a follow-up message afterward      |

‚úÖ Quick Reminders
Don‚Äôt ghost, even if you're stuck. Say something.

Don‚Äôt assume ‚Äî ask questions.

Don‚Äôt wait for the deadline to update the client.

Don‚Äôt be too formal ‚Äî be human.

üí¨ "Good code is great. Good communication makes you irreplaceable."


## Freelance Guide

#### 1. Mindset & Skill Preparation

* Expert Javascript/NodeJs/Typescript
* Write clean code and apply SOLID principles
* Manage source code with Git
* Manage container with Docker
* Manage server with Linux
* Familiar with authentication (OAuth2), error handling, and logging.
* Wring documentations for feature

#### 2. Management platform

* Upwork: Proposal, task & cost tracking
* Google sheet: Applying WBS for managing tasks.

#### 3. Profile Essentials

* Professional avatar
* Professional photo
* Clear title: Fullstack Javascript Developer / Solution Engineer
* Intro paragraph: Highlight years of experience, skills, and type of work you love.
* Skill tags and rates: $20‚Äì$30/hr

#### 4. Apply to Simple Tasks

* Focus on **bug fixes, script writing, automation, API integration**.
* Look for clients with ‚Äúeasy to work with‚Äù in their reviews.

#### 5. Customize Every Proposal

* Start with their name (if visible).
* Summarize what they want, and how you‚Äôll solve it.
* Mention similar work you‚Äôve done.
* Keep it short (under 200 words).
* Attach a relevant code sample or link to a GitHub repo.

> ‚úçÔ∏è Template:

```txt
Hi [Client Name],

I read your job about integrating PayPal with your Node.js backend. I‚Äôve done similar work for a small e-commerce store where I built a payment module using PayPal SDK.

I can start within 1 day and complete the integration with proper testing. You can check a similar demo I made here: github.com/yourname/paypal-demo.

Looking forward to working with you!
```

#### 6. Communication Tips

Always confirm understanding: ‚ÄúJust to clarify, you want X, Y, and Z ‚Äî correct?‚Äù

Break work into milestones and update regularly.

Over-communicate early, under-communicate later.

#### 7. Handling Payments

Use escrow where possible (e.g., Upwork).

Never start unpaid test work unless it‚Äôs very small and agreed upon.

Ask for feedback after job completion to build profile reputation.

#### 8. Build The Brand

Publish blogs, open-source contributions.

Create GitHub repos that solve real problems.

Record screen captures of you explaining your code.

#### 9. Specialize Over Time

Start general, then narrow down. Examples:

API Developer for SaaS products

AWS Lambda + Serverless specialist

Developer for AI/ChatGPT integrations

üî• Niche wins: Clients trust specialists more than generalists.

#### 10. Create Repeat Business

Be on time, reliable, and communicate professionally.

Always leave room to ask: ‚ÄúIs there anything else I can help with?‚Äù

#### 11. Quotes & Tips

> üí¨ "You don‚Äôt need 100 clients ‚Äî you just need 3‚Äì5 that love working with you."

> üöÄ Tip: Build 2‚Äì3 mini-projects or proof-of-concepts (POCs) and upload them to GitHub to showcase your capability.

> üí° Highlight your strengths, such as **"I‚Äôm strong in debugging, fast delivery, and clear communication."**


## Freelancer Task Checklist (Upwork / Remote Client)

*A step-by-step guide for receiving, preparing, working on, and delivering freelance tasks professionally.*

### 1. Before Accepting the Task

#### üî≤ Read the full job description carefully

> Make sure you understand:

* What is expected
* Deadline
* Output format (code, deployment, document, etc.)

#### üî≤ Ask clarifying questions

> Example:

* What are the success criteria?
* Do you have design or API specs?
* Should I deploy or just send the code?

#### üî≤ Check for technical feasibility

> Can I finish this with my current skills/tools?

#### üî≤ Agree on:

* Timeline
* Milestones (if any)
* Communication channel (Upwork, Slack, email)
* Payment (fixed/hourly, upfront, milestones)

### 2. Task Setup & Preparation

#### üî≤ Create a local folder or Git repo for the task

> Example: `client-task-login-feature/`

#### üî≤ Save the original requirements somewhere (Notion, README)

#### üî≤ Break down the task into sub-tasks (use Todo list)

#### üî≤ Set up your dev environment

> Clone boilerplate, prepare Postman, Docker, etc.

#### üî≤ Confirm timezone, daily/weekly update schedule

### 3. While Working on the Task

#### üî≤ Use version control (Git)

* Make clear commits: `feat: add login endpoint`

#### üî≤ Keep a change log (`changelog.md` or task notes)

* Helps with handover or future maintenance

#### üî≤ Ask questions early if blocked (don‚Äôt wait too long)

#### üî≤ Use real/test data for validation

#### üî≤ Write clean, maintainable code

* Naming, comments, structure

#### üî≤ Write basic test cases (unit/integration if needed)

### üì§ 4. Delivering the Task

#### üî≤ Prepare a final summary (to send to client)

```txt
‚úÖ Task Summary:
- Added login endpoint with JWT
- Connected to PostgreSQL (RDS)
- Tested via Postman (login, invalid cases)

üöÄ GitHub: https://github.com/yourname/client-login-task
```

üî≤ Double-check delivery format:

* Code pushed?
* Live demo working?
* Docs or comments added?

üî≤ Ask for feedback & rating if on Upwork
üßæ 5. After Completion (Reflection)
üî≤ Save the client‚Äôs feedback
Use for testimonials in portfolio

üî≤ Archive code/tasks into personal folders
üî≤ Reflect:

* What went well?
* What to improve (tech/communication/time)?

üîÅ Optional Reuse Checklist

* Can I reuse this code in the future?
* Should I turn this into a GitHub demo/POC?
* Any part worth writing a blog or tweet about?

üí¨ "Freelancing = delivery + communication + consistency."
This checklist helps you avoid common beginner mistakes and shows professionalism even if you‚Äôre new.


## **Implement LiveKit for Real-Time Communication**

### **Overview: Purpose and Problem Solving**

* Our project requires stable realTimeVideo and realTimeAudio features to support collaboration between users.
* Building a custom webrtcServer is complex and time-consuming, while LiveKit provides tested sdkTools and serverInfra ready to use.

### **Proposal**

* Use LiveKit as the communication platform for videoCall, audioCall, and screenShare.
* Connect frontend with `livekitClient` and backend with token generation endpoint `getAccessToken`.

### **Weighting / Pros and Cons**

#### **Pros**

* LiveKit is scalable and supports adaptiveStream and dynacast, which reduce bandwidth usage.
* Provides React components like `GridLayout`, `ParticipantTile`, and `ControlBar` to build UI faster.
* Security is built-in using signed accessToken with roomName and participantIdentity.
* Reduces development time compared to building and maintaining our own signaling system.

#### **Cons**

* Adds dependency on a third-party service which increases monthly cost.
* The team needs time to learn LiveKit sdk and understand realTime media flows.
* Internet connection quality of users can affect performance, which we must handle in UI/UX.

### **Implementation Steps**

#### **1. Setup backend token service**

* Create `/getToken` endpoint using `AccessToken(apiKey, apiSecret)` to generate secure token.

#### **2. Connect frontend to LiveKit**

* Use `room.connect(livekitUrl, token)` and wrap components with `RoomContext.Provider`.

#### **3. Enable media tracks**

* On join, call `room.localParticipant.setMicrophoneEnabled(true)` and `room.localParticipant.setCameraEnabled(true)`.

#### **4. Render participants**

* Use `useTracks` hook and `<GridLayout>` with `<ParticipantTile trackRef={trackRef} />` to display users.

#### **5. Handle room lifecycle**

* Call `room.disconnect()` on leave action or component unmount, and listen for `participantDisconnected` events.

### **Conclusion**

* LiveKit gives us a proven platform to handle video, audio, and data communication without building complex webrtc logic ourselves.
* It saves time, improves scalability, and allows the team to focus on core product features.
* I recommend moving forward with LiveKit integration to achieve reliable real-time collaboration.


## Multi-OIDC Session Management  Application

Managing multiple OpenID Connect (OIDC) sessions across different applications can be complex. Inspired by the NextAuth framework, this open-source project provides a robust solution for handling multi-OIDC sessions efficiently.

[https://github.com/quochuydev/next-multiple-oidc-sessions](https://github.com/quochuydev/next-multiple-oidc-sessions)

This blog walks you through the benefits, implementation steps, and references for getting started with this powerful authentication framework.

### Outcome and Benefit

#### Centralized Session Management

The primary outcome of this project is a centralized authentication system that efficiently manages multiple OIDC sessions across different applications. By centralizing session management, you gain:

* **Consistent User Experience**: Users can seamlessly switch between multiple applications (`app.example.local/app1`, `app.example.local/app2`) without needing to re-authenticate.
* **Simplified Integration**: With a shared authentication service (`auth.example.local`), integrating new applications into your ecosystem becomes much easier and less error-prone.

### Implementation Steps

#### 1. Set Up the Repository

Clone the GitHub repository and explore the three core applications:

* **`app.example.local/app1`**
* **`app.example.local/app2`**
* **`auth.example.local`**

Each of these applications is designed to work together to provide a seamless authentication experience across different domains.

#### 2. Configure the Auth Service (`auth.example.local`)

The `auth.example.local` application acts as the central authentication hub. Here‚Äôs how to set it up:

* **OIDC Configuration**: Configure your OIDC providers (like Google, Facebook, etc.) within the `auth.example.local` application. This includes setting up client IDs, secrets, and redirect URIs.
* **Session Management**: Implement session handling logic that supports multiple active sessions per user, allowing seamless switching between applications.

#### 3. Integrate with Application 1 (`app.example.local/app1`)

* **OIDC Client Setup**: In `app.example.local/app1`, set up the OIDC client to interact with the `auth.example.local` service.
* **Session Handling**: Ensure that `app.example.local/app1` correctly handles session tokens received from the authentication service. Store and manage these tokens securely.

#### 4. Integrate with Application 2 (`app.example.local/app2`)

* **Repeat the Process**: Just like in `app.example.local/app1`, set up the OIDC client in `app.example.local/app2`. Ensure seamless session management between `app.example.local/app2` and the central `auth.example.local`.

#### 5. Test Across Applications

* **Cross-Application Testing**: Test user logins and session management across `app.example.local/app1` and `app.example.local/app2`. Ensure that sessions persist and that users can switch between applications without re-authentication.
* **Security Audits**: Conduct thorough security testing to ensure that session tokens are handled securely and that no vulnerabilities exist in cross-application session management.

![authentication.drawio.png](multiple-oidc-session-management/authentication.drawio.png)

### References

1. **NextAuth.js Documentation**:

   A comprehensive guide to understanding the concepts behind NextAuth, which inspired this project.

   [https://next-auth.js.org/getting-started/introduction](https://next-auth.js.org/getting-started/introduction)

2. **OpenID Connect Endpoints in ZITADEL**:

   [https://zitadel.com/docs/apis/openidoauth/endpoints](https://zitadel.com/docs/apis/openidoauth/endpoints)

3. **PKCE - Recommendation for authorization flow**:

   [https://zitadel.com/docs/guides/integrate/login/oidc/oauth-recommended-flows#our-recommended-authorization-flows](https://zitadel.com/docs/guides/integrate/login/oidc/oauth-recommended-flows#our-recommended-authorization-flows)


## **Implement LLM-Powered Neo4j Entity Management**

### **Overview: Purpose and Problem Solving**

* This MVP demonstrates managing entities, fields, and relationships in a Neo4j graph database using a GPT-4 agent.
* It eliminates manual Cypher queries and allows users to describe database operations in natural language.

### **Proposal**

* Use GPT-4 via `FunctionAgent` from `llama_index` to interpret instructions and execute Neo4j operations.
* Integrate `Neo4jPropertyGraphStore` to store and retrieve entities, fields, and relationships programmatically.

### **Weighting / Pros and Cons**

#### **Pros**

* Rapid prototyping of database structure without writing Cypher manually.
* Easy extension to new projects, entities, or relationships through simple instructions.
* Structured JSON output enables integration with other systems.

#### **Cons**

* Hardcoded credentials and minimal error handling reduce production readiness.
* Performance may decrease with many entities or fields due to individual `MERGE` operations.
* Agent instructions require careful formatting to avoid misinterpretation.

### **Implementation Steps**

#### **1. Setup Environment**

* Install required packages: `neo4j`, `llama_index`, `openai`, `pydantic`, `dotenv`.
* Configure `.env` for API keys and Neo4j credentials.

#### **2. Connect to Neo4j**

* Use `checkNeo4jConnection()` to verify connectivity and raise error if unavailable.
* Initialize `Neo4jPropertyGraphStore` for structured queries.

#### **3. Define Data Models**

* Create `EntityDetails`, `CreateEntityResponse`, and `CreateRelationResponse` with Pydantic for validation.
* These models ensure consistent and strict JSON responses.

#### **4. Implement CRUD Functions**

* `createEntity(project, entity, fields)` creates project, entity, and fields in Neo4j.
* `createRelation(source, target, relation)` adds relationships between entities.
* `getEntityDetails(entity)` retrieves entity, fields, and related entities in JSON format.

#### **5. Wrap Functions as Tools**

* Use `FunctionTool.from_defaults()` to expose each CRUD function to the agent.
* Prepare `FunctionAgent` with `tools=[createEntityTool, createRelationTool, getEntityTool]` for LLM-driven execution.

#### **6. Run Agent for Demo**

* Execute `agent.run()` with natural language instructions to create entities and relationships.
* Query entity details to verify successful insertion and relations.

### **Conclusion**

* This MVP shows GPT-4 as an intelligent interface for Neo4j, simplifying entity management.
* The system can be expanded for multiple projects, dynamic instructions, and automated knowledge graph construction.


## Node.js x AWS x Github Action

### Node.js backend application

#### Codebase structure

```
‚îú‚îÄ‚îÄ __tests__
‚îÇ ‚îú‚îÄ‚îÄ api.v1.user.create.fixture.ts
‚îÇ ‚îú‚îÄ‚îÄ api.v1.user.create.spec.ts
‚îú‚îÄ‚îÄ apis
‚îÇ ‚îú‚îÄ‚îÄ api.v1.user.create.ts
‚îú‚îÄ‚îÄ core
‚îÇ ‚îú‚îÄ‚îÄ server.ts
‚îÇ ‚îú‚îÄ‚îÄ types.ts
‚îÇ ‚îú‚îÄ‚îÄ postgres-service.ts
‚îú‚îÄ‚îÄ types
‚îÇ ‚îú‚îÄ‚îÄ api.v1.user.ts
‚îú‚îÄ‚îÄ main.ts
```

#### Testing APIs

```sh
curl -X POST http://localhost:3004/api/api.v1.user.create -H "Content-Type: application/json" -d '{"name":"name" }'

curl -X POST http://localhost:3004/api/api.v1.user.getList -H "Content-Type: application/json" -d '{"q":"name"}'
```

### Setup AWS services

##### Create a new EC2 instance

* Application and OS Images:
  * Ubuntu Server 24.04 LTS (HVM), SSD Volume Type
  * Architecture: 64-bit (x86)
* Allow HTTPS traffic from the internet: true
* Allow HTTP traffic from the internet: true

##### Install Docker

```sh
sudo apt-get update && sudo apt-get install docker.io -y && sudo systemctl start docker && sudo chmod 666 /var/run/docker.sock &&sudo systemctl enable docker

docker --version
```

#### Setup github runner in EC2 instance

[https://docs.github.com/en/actions/hosting-your-own-runners/managing-self-hosted-runners/adding-self-hosted-runners#adding-a-self-hosted-runner-to-a-repository](https://docs.github.com/en/actions/hosting-your-own-runners/managing-self-hosted-runners/adding-self-hosted-runners#adding-a-self-hosted-runner-to-a-repository)

##### Build and push docker image

```sh
docker build -t quochuydev/myapp-backend .

docker push quochuydev/myapp-backend:latest
```


### Implementation Steps


## üíº Proposal Examples for Freelance Developers (Upwork & Remote)

Use these as templates when applying to jobs ‚Äî always **customize to fit the client‚Äôs need**, keep it short (100‚Äì200 words), and always show that you understand the task.

### üßæ 1. API Integration Task

> **Client Job**: ‚ÄúNeed someone to integrate Stripe into my Node.js backend‚Äù

```txt
Hi [Client Name],

I‚Äôve worked with Stripe and Node.js in multiple projects. Most recently, I built a checkout system for a small e-commerce platform using Stripe Payment Intents and Webhooks.

I can integrate your desired flow ‚Äî payments, refunds, and webhook handling ‚Äî in 1‚Äì2 days with clean, testable code.

Here‚Äôs a similar project I did: [GitHub link]

Let me know if you want a quick Zoom call to align on expectations.

Thanks,
[Your Name]
```

### üßæ 2. Bug Fix / Debugging Task

> **Client Job**: ‚ÄúNeed help fixing a CORS error on my Express app‚Äù

```txt
Hi [Client Name],

That sounds like a common issue with Express CORS setup ‚Äî I‚Äôve handled this several times while working with frontend-backend apps using React and Node.js.

If you can give me access to your repo or error log, I‚Äôll pinpoint and fix it quickly. I‚Äôm confident this can be solved within 1‚Äì2 hours.

Happy to help and explain the root cause so it won‚Äôt happen again.

Best,
[Your Name]
```

### üßæ 3. Long-Term Backend Support

> **Client Job**: ‚ÄúLooking for Node.js developer to maintain our backend‚Äù

```txt
Hi [Client Name],

I‚Äôd love to support your backend long-term. I have 6 years‚Äô experience working with Node.js, PostgreSQL, Redis, and AWS. I‚Äôm comfortable maintaining APIs, improving performance, writing tests, and handling CI/CD pipelines.

I communicate clearly, keep detailed changelogs, and can adjust to your team‚Äôs workflow (Slack, Jira, GitHub, etc.).

Let‚Äôs start with 1 small task if you prefer a trial. I‚Äôm available ~20hrs/week and work best async.

Looking forward to collaborating!

Best regards,
[Your Name]
```

### üßæ 4. Fast One-Off Script

> **Client Job**: ‚ÄúNeed a script to scrape data and send email report‚Äù

```txt
Hi [Client Name],

I can write a fast, efficient script in Node.js or Python to scrape your required data and send a formatted email report daily via SMTP or a service like SendGrid.

I‚Äôve done similar automations before and can deliver within 1 day with easy-to-edit config.

Let me know the target website and output format, and I‚Äôll get started.

Cheers,
[Your Name]
```

#### ‚úÖ Tips to Improve Your Proposals

* Open with proof you understand the problem.
* Mention similar work you‚Äôve done.
* Be specific with how and when you‚Äôll deliver.
* Link to your GitHub, website, or relevant project.
* Keep it human, short, and respectful.

üß† ‚ÄúClients don‚Äôt hire resumes. They hire people who make them feel confident and understood.‚Äù

#### üõ† B·∫°n c√≥ th·ªÉ l√†m g√¨ ti·∫øp theo?

* **Copy m·∫´u n√†y v√†o Notion ho·∫∑c VSCode snippets** ƒë·ªÉ apply nhanh.
* **G·∫Øn GitHub repo th·∫≠t** v√†o ph·∫ßn `[GitHub link]`.
* Vi·∫øt th√™m 1‚Äì2 m·∫´u ri√™ng cho niche b·∫°n mu·ªën theo (AI, AWS, OAuth, CI/CD‚Ä¶).


## üí° Proposed Solution Overview

Hi \[Client Name], here's a simple architecture and plan based on your requirement.

#### üîß Tech Stack

* **Backend**: Node.js (Express.js)
* **Database**: PostgreSQL / MongoDB
* **3rd Party Integration**: \[e.g., Stripe, Google OAuth, OpenAI API]
* **Deployment**: Docker + Render / Railway / Vercel
* **Monitoring**: Log output or health endpoint

#### üß© Solution Outline

üìò Example 1 ‚Äì Node.js with Stripe & Email

* User submits payment through frontend
* Backend Node.js service uses **Stripe SDK** to create a charge
* Sends confirmation email via **SendGrid** or **SMTP**
* Saves order in **PostgreSQL**
* Simple `/healthz` route to monitor service

ü§ñ Example 2 ‚Äì AI Agent with OpenAI + Deployment

* User sends question or task via endpoint (e.g., GET `/ask?text=...`)
* Node.js service forwards it to **OpenAI API** using LangChain or custom prompt logic
* AI returns result ‚Üí response formatted and sent back to client
* Hosted on **Render** or **Vercel** with Docker

#### üîÑ Simple Architecture Diagram (Text-Based)

```
User
‚îÇ
Frontend (optional or Postman)
‚îÇ
‚îú‚îÄ‚Üí Backend (Node.js)
‚îú‚îÄ‚Üí 3rd API (e.g., Stripe / OpenAI / OAuth)
‚îú‚îÄ‚Üí Database (PostgreSQL / MongoDB)
‚îî‚îÄ‚Üí Email Service (SendGrid or SMTP)
```

#### ‚úÖ What You‚Äôll Get

* Clean, documented code (GitHub)
* REST API or simple UI if needed
* Dockerfile for deployment
* Optional README with usage + Postman collection
  üí° How to Use This in Proposals
  When bidding, send the solution template like:

```txt
Hi [Client],

I‚Äôve worked on similar tasks using Node.js and 3rd-party integrations. Here‚Äôs a simple solution I‚Äôd use for your case:

üß© [Paste Solution Outline Here]
üìä [Include diagram or link to Notion/GitHub]

Let me know if this looks good ‚Äî I can start with a demo version in 1‚Äì2 days.
üß† Extra Tip: Use [Mermaid.js] Diagrams for GitHub
If you're posting on GitHub, use this format:
```


## ThemeForest Products

You are a Senior Fullstack Developer and UI/UX expert.
Generate a complete **MULTI-PAGE** modern responsive website for the following business:

#### Business Details:

* Business Name: ANA MANDARA VILLAS DALAT RESORT & SPA
* Type: Resort & services booking
* Target Audience: Tourist, local members
* Purpose of Site: Attract local members, show services and allow booking

#### APIs

```

‚îú‚îÄ‚îÄ /app
‚îÇ ‚îú‚îÄ‚îÄ /api
‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ /
‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ /

```

#### Pages

```
```

#### Components

##### SEO

* Support (Optional) Google Analytics ID
* Support (Optional) plausible.io ENV

##### Header

* Left Menu
* Logo
* Language switcher (EN/VI)

##### Campaign

```
```

##### Booking

```

Form
Input: Phone number
Input: Name
Input: Number of people
Date Select: Check-in date
Date Select: Check-out date
Button: Book now

```

##### Gallery

##### Contact

##### Footer

#### Design Preferences:

* Style: Bold, modern, energetic
* Colors: Black, red, and white
* Font Preferences: Modern sans-serif, high-impact headline fonts
* Example Sites for Inspiration: [https://www.fitnesssf.com/](https://www.fitnesssf.com/), [https://www.f45training.com/](https://www.f45training.com/)

#### Tech Stack:

* Typescript
* Next.js app router
* Tailwind CSS
* Shadcn UI for components
* Add subtle animations using Framer Motion
* React Hook Form for form handling
* React Query for data fetching
* React Router for routing

#### Deliverables:

* Full working code (including all components/pages)
* Clean modular code structure
* SEO & accessibility best practices
* /llm-full.txt
* Responsive design for all screen sizes
* Dummy data for images/content

```
```


## Work Breakdown Structure (WBS) Management

Work Breakdown Structure (WBS) is one of the most critical project management tools that helps break down complex projects into manageable, smaller components. This guide will walk you through the fundamentals of WBS management, including practical examples and best practices for effective project planning.

### What is Work Breakdown Structure?

A Work Breakdown Structure is a hierarchical decomposition of the total scope of work to be carried out by the project team. It organizes and defines the total scope of the project, where each descending level represents an increasingly detailed definition of the project work.

#### Key Benefits of WBS:

* **Clear Project Scope**: Provides a visual representation of all project deliverables
* **Better Estimation**: Enables more accurate time and cost estimates
* **Resource Planning**: Helps identify required resources for each work package
* **Risk Management**: Makes it easier to identify potential risks at granular levels
* **Progress Tracking**: Facilitates monitoring and controlling project progress
* **Team Communication**: Improves understanding among stakeholders

### WBS Structure and Components

#### The 100% Rule

The WBS must include 100% of the work defined by the project scope and capture all deliverables ‚Äì internal, external, and interim ‚Äì in terms of the work to be completed, including project management.

### WBS Management Sheet

A well-structured WBS sheet should include the following elements:

![WBS Management Sheet](/wbs-management/wbs-sheet.png)

The WBS sheet above demonstrates a practical approach to organizing project work with:

* **Category**:
* **Feature ID**:
* **Feature**:
* **Task ID**:
* **Task**:
* **Subtask ID**:
* **Subtask**:
* **Description**:
* **Effort Estimation (Hours)**:
* **Assignee**:
* **Start Date**:
* **End Date**:
* **Status**: Backlog, Ready, In Progress, Testing, Done, Closed
* **Priority**: Critical, High, Medium, Low
* **Notes**:

### Best Practices for WBS Management

* Keep It Simple and Clear
* Focus on Deliverables
* Maintain Appropriate Level of Detail
* Ensure Completeness
* Regular Updates and Reviews

### Measuring WBS Effectiveness

#### Key Performance Indicators:

1. **Scope Completeness**: Percentage of actual work covered by WBS
2. **Estimation Accuracy**: Variance between planned and actual effort
3. **Change Request Frequency**: Number of scope changes required
4. **Stakeholder Understanding**: Survey results on WBS clarity
5. **Project Success Rate**: Correlation with project success metrics

### Conclusion

Work Breakdown Structure is a fundamental project management technique that provides the foundation for successful project planning and execution. When properly implemented, WBS enhances project visibility, improves estimation accuracy, and facilitates better communication among stakeholders.

Key takeaways:

* **Structure matters**: A well-organized WBS is crucial for project success
* **Balance detail levels**: Neither too granular nor too high-level
* **Focus on deliverables**: What will be produced, not how it will be done
* **Maintain and update**: WBS is a living document that evolves with the project
* **Integrate with other tools**: Combine with estimation, scheduling, and risk management


## Telemedicine Platform Requirements

### 1. Overview

* We aim to build a secure, scalable telemedicine platform similar in quality to certified European solutions.
* The system will allow patients and healthcare professionals to connect via video consultations, with supporting features such as chat, file sharing, and appointment management.
* Technology stack: **Node.js (backend), Vite (frontend), WebRTC (real-time communication), AWS (cloud infrastructure)**.

### 2. Core Features

#### 2.1 Management

* Patient and practitioner registration/login.
* Authentication: AWS Cognito with MFA, SSO support.
* User roles: Patient, Doctor, Admin.
* Clinic information management:
  * Clinic name
  * Clinic address
  * Clinic phone
  * Clinic email
  * Clinic website
  * Clinic logo
  * Clinic description
* Patient Profile management:
  * Personal information
  * Medical history
  * Insurance information
* Doctor Profile management:
  * Personal information
  * Medical specialty
  * Availability

#### 2.2 Appointment Management

* Booking and scheduling system with calendar integration.
* Virtual waiting room with notifications.
* Rescheduling and cancellation workflows.

#### 2.3 Video Consultation

* **WebRTC-based video/audio calls**.
* One-on-one sessions and group calls (up to 20 participants).
* Features: screen sharing, text chat, file/document exchange.
* End-to-end encryption for all media streams.

#### 2.4 Documentation & Prescriptions

* Secure file sharing between patients and doctors.
* Generation of e-prescriptions (optional, depending on regulatory compliance).
* Session notes stored securely.

#### 2.5 Notifications

* Email/SMS/Push notifications for appointment reminders.
* In-app notifications for waiting room status.

#### 2.6 Analytics & Reporting

* Appointment history and usage statistics.
* System health metrics (uptime, latency, call quality).

### 3. Technical Architecture

#### 3.1 Frontend (Vite + React/TS)

* Responsive UI (desktop & mobile).
* Multi-language support (EN/DE/FR).
* Accessible design (WCAG 2.1 compliance).

#### 3.2 Backend (Node.js)

* REST API / GraphQL for core services.
* Signaling server for WebRTC (WebSocket-based).
* Appointment, user, and session management.
* Role-based access control.

#### 3.3 Real-Time Communication

* **WebRTC** for video/audio.
* **STUN/TURN servers** (Coturn).
* **SFU (Selective Forwarding Unit)** via Mediasoup/Janus for group calls.

#### 3.4 AWS Infrastructure

* **Compute**: ECS/EKS for containerized services.
* **Storage**: S3 + CloudFront for static assets & file exchange.
* **Database**: RDS (PostgreSQL) or DynamoDB for structured/unstructured data.
* **Auth**: Cognito (optional).
* **Security**: WAF + Shield for DDoS protection.
* **Monitoring**: CloudWatch + custom logging.

### 4. Security & Compliance

* GDPR-compliant data processing.
* Data residency: EU regions (e.g., AWS Frankfurt or Zurich).
* TLS 1.2+ for all connections.
* End-to-end encryption for video sessions.
* Audit logs for access and activity tracking.
* Periodic third-party penetration testing & certification.

### 5. Non-Functional Requirements

* **Scalability**: support up to 10,000 concurrent users initially, scalable via AWS autoscaling.
* **Availability**: 99.9% uptime SLA.
* **Maintainability**: CI/CD pipelines, automated testing, modular codebase.
* **Extensibility**: API-first design for third-party integrations (e.g., payment, insurance systems).

### 6. Roadmap (High-Level)

1. **MVP (3-4 months)**

   * User management & appointments
   * 1:1 video consultation
   * Basic chat + file sharing
   * Secure authentication

2. **Phase 2 (6-8 months)**

   * Group consultations (SFU)
   * Virtual waiting room
   * Notifications (email/SMS/push)
   * Audit logging & analytics dashboard

3. **Phase 3 (12 months)**

   * E-prescriptions, e-certificates
   * Insurance/payment integration
   * AI-powered triage (optional)
   * Third-party compliance audits

### 7. Risks & Considerations

* **Regulatory compliance**: must ensure GDPR + healthcare-specific laws (e.g., KBV rules in Germany).
* **Security**: video data must never be stored unless legally required.
* **Performance**: high network demand in WebRTC ‚Üí must test across devices & bandwidths.
* **User adoption**: need intuitive UX for non-technical patients.

### 8. Success Criteria

* Secure, stable video consultations between doctors and patients.
* Compliance with GDPR and local medical standards.
* Positive feedback from practitioners and patients (>85% satisfaction rate).
* Scalability proven via load testing (10k concurrent users).


## **Implement WooCommerce Vendors Marketplace Plugin**

### **Overview: Purpose and Problem Solving**

1. Many businesses and individuals want to create an **eCommerce marketplace** where multiple vendors can sell their products while the site owner earns commissions.
2. WooCommerce, by default, is a **single-vendor system**. To convert it into a **multi-vendor marketplace**, we need to integrate a marketplace plugin.
3. **WooCommerce Vendors Marketplace** plugin allows multiple vendors to register, manage their own stores, and sell products independently while the marketplace owner manages global settings, commissions, and payouts.

### **Proposal**

* A WordPress website with **WooCommerce installed**.
* Install and configure the **WooCommerce Vendors Marketplace** plugin.
* Allow vendors to register and manage their own stores.
* Enable commission-based earnings for the marketplace owner.

### **Weighting / Pros and Cons**

#### **Pros**

* Converts WooCommerce into a **multi-vendor marketplace**.
* Allows vendors to manage their **own products, orders, and earnings**.
* Provides **commission settings** to manage vendor payouts.
* Supports various **payment gateways** for vendor payouts.
* Vendors can receive **direct payments** or through the marketplace owner.

#### **Cons**

* Requires **manual or scheduled vendor payouts** if not using automated gateways.
* May require **customizations** to match specific business models.
* Additional fees may apply depending on the **payment method** used for vendor withdrawals.

### **Implementation Steps**

#### **1. Download and Install the Plugin**

* Purchase and download the **WooCommerce Vendors Marketplace** plugin.
* Go to **WordPress Admin > Plugins > Add New**.
* Upload and install the plugin, then **activate** it.

#### **2. Configure Marketplace Settings**

* Navigate to **WooCommerce > Settings > Vendors**.
* Set up **commission rates** (fixed or percentage-based).
* Define **vendor registration rules** and **approval process**.
* Configure **payment methods** for vendor payouts (PayPal, Bank Transfer, Stripe, etc.).

#### **3. Vendor Registration and Store Setup**

* Enable **vendor registration** on the website.
* Vendors can register, create their store, and start adding products.
* Admin can **approve or reject** vendor applications.

#### **4. Managing Products and Orders**

* Vendors can manage **their own products** (add, edit, delete).
* Orders placed by customers are automatically assigned to vendors.
* Admin can track and **manage all vendor sales**.

#### **5. Vendor Payments and Payouts**

* Set up **manual or automatic payouts**.
* Vendors can request payouts based on **configured rules**.
* Admin can process **manual bank transfers** or use **automated payment gateways**.

#### **6. Customizing the Marketplace**

* Use **shortcodes** or widgets to display vendor stores.
* Customize the **vendor dashboard** for better user experience.
* Add additional **extensions** for enhanced functionality (e.g., subscriptions, memberships, auctions).

### **Conclusion**

By implementing the **WooCommerce Vendors Marketplace** plugin, a WooCommerce store can be transformed into a **fully functional multi-vendor marketplace**. Vendors can register, sell products, and receive payments while the admin earns commissions, making it a scalable and profitable business model.

For further customizations, consider **additional WooCommerce add-ons** to enhance vendor features and payment automation.


## **Woocommerce Nganluong Gateway Plugin**

### **Overview the purpose, the problem it is solving**

1. At this time in Vietnamese, there are having many payment services supporting for Business like Momo API or VNPay API, we can register as a merchant to have Client Key and Secret Key for application service.
2. But as an individual, by my researching, we can only register Nganluong account and sign the contract with Nganluong, then we can use Nganluong API for payment. In this section I focusing on implement Nganluong payment gateway for Woocommerce.
3. If you wanna know how to sign the contract and verify merchant account, directly contact to Nganluong's sale teams.

### **Proposal**

* Having a Wordpress Woocommerce website.
* On nganluong, register an account, verify account, creating merchant account and contact to Nganluong's Sale team for sign contract.

### **Weighting / Pros and cons**

**Pros**

* User will have an option payment method via Nganluong, it work checking-out directly to Banking (It is called Seamless checkout)

**Cons**

* The minimum of a Online banking transaction is 20000d
* The minimum of a QR Code 247 transaction is 50000d
* High free per transaction

### **Implementation steps**

#### Download the plugin

* I push the code to github: [https://github.com/quochuydev/woocommerce-nganluong-gateway-plugin/tree/main](https://github.com/quochuydev/woocommerce-nganluong-gateway-plugin/tree/main)
* Pull the source code if you know working with github
* Or directly clicking to `nganluong-gateway.zip` download then install the plugin normally

#### Admin updates setting the payment method

#### User is able to checking-out the order with Nganluong.


## **3000 mails free per month for woocommerce with resend.com**

### **Overview the purpose, the problem it is solving**

For SME woocommerce, we need to send email to customer/shop admin, when woocommerce order/invoice/account are changed.

### **Proposal**

* On resend.com, Register resend.com account, verify domain, create API key
* On wordpress website, install and configure Mail SMTP Plugin, manage Woocommerce email settings

### **Weighting / Pros and cons**

**Pros**

* Free 3000 mails per month
* Not spam mail

**Cons**

* Resend free account allows creating only 1 domains, it should be your domain or company's domain

### **Implementation steps**

#### Register a Resend service account

go to: [https://resend.com](https://resend.com)

#### Create Resend API key

go to: [https://resend.com/api-keys](https://resend.com/api-keys)

![resend-create-API-key.png](woocommerce-resend/resend-create-API-key.png)

#### Register domain

go to: [https://resend.com/domains](https://resend.com/domains)

![resend-domain-detail.png](woocommerce-resend/resend-domain-detail.png)

#### Download WordPress Mail SMTP Plugin

[https://vi.wordpress.org/plugins/wp-mail-smtp/](https://vi.wordpress.org/plugins/wp-mail-smtp/)

#### Install Mail SMTP Plugin

**Login into your wordpress admin**

**Install plugin in admin site**

* **On the left menu:** Plugins -> Add New Plugin -> Upload plugin
* Select plugin downloaded from step 1 -> Install now

![wp-install-plugin.png](woocommerce-resend/wp-install-plugin.png)

**Update Mail SMPT config**

1. When install plugin successfully, on the left menu will display item *WP Mail SMTP*

2. Update to these configs

* **License Key:** Free version, empty value
* **From Email:** Must have domain is registerd on resend.com/domains, exp: [admin@quochuy.dev](mailto\:admin@quochuy.dev)
* **From Name:** (can be your branding or your website)
* **Force From Name:** default false
* **Return Path:** default false
* **Mailer:** Other SMTP
* **SMTP Host:** smtp.resend.com
* **Encryption:** TLS
* **SMTP Port:** 587
* **Authentication:** On
* **SMTP Username:** resend
* **SMTP Password:** (value is from API key created on Resend)

3. Click *Save settings*

![wp-update-smtp-config.png](woocommerce-resend/wp-update-smtp-config.png)

#### Define email notifications

* On the left menu: WooCommerce -> Settings -> Emails
* Manage Email notifications
* Click *Save changes*

![woocommerce-setting-mail-1.png](woocommerce-resend/woocommerce-setting-mail-1.png)

![woocommerce-setting-mail-2.png](woocommerce-resend/woocommerce-setting-mail-2.png)

#### Testing

* On woocommerce website, add to cart products then checkout order
* Check admin gmail

![woocommerce-setting-mail-1.png](woocommerce-resend/mail-template.png)


## Work experience

### Experience products

#### 1. BidBid - Dating app

* Manage tasks, estimate tasks and daily meeting with team.
* Develop and provide API for Mobile App and Web App.
* Design and implement backend services, scale up with microservices.
* Build/deploy application, manage production server and client's accounts.

#### 2. Germany health care product

* Daily meetings with the team and Product Manager in Germany.
* Implement application‚Äôs features.


This guides shows you how to connect LemonLDAP as an identity provider in ZITADEL.

You can configure two types of SAML SSO on LemonLDAP:

* [LemonLDAP SAML](#lemonldap-saml)
* [LemonLDAP OIDC](#lemonldap-oidc)

### LemonLDAP SAML - ZITADEL as Service provider

#### Configure SAML on LemonLDAP

Setting up LemonLDAP

```bash
docker run -d --name lemonldap -p 80:80 --network zitadel coudot/lemonldap-ng
```

Setup SAML for LemonLDAP

`SAML2 Service > Security parameters > Signature > New certificate > Save`

![alt](/lemonldap/1.png)

`General Parameters > Issuer modules > SAML > Activation: On`

![alt](/lemonldap/2.png)

Download and Encode Base64 metadata ([https://www.base64encode.org/](https://www.base64encode.org/))

```
http://auth.example.com/saml/metadata
```

*Fixing for error: `An error occured during SAML single sign on`*

`General Parameters > Cookies > Unsecured & Strict`

#### Configure Idenity Provider in ZITADEL

**Setting up ZITADEL**

[https://zitadel.com/docs/self-hosting/deploy/compose#docker-compose](https://zitadel.com/docs/self-hosting/deploy/compose#docker-compose)

ZITADEL running in docker network `zitadel`

Checking compose file:

[https://github.com/quochuydev/quochuydev/blob/master/researching/zitadel/README.md](https://github.com/quochuydev/quochuydev/blob/master/researching/zitadel/README.md)

**Create a SAML IDP in ZITADEL**

For example I am setuping up at ZITADEL instance level

`Settings > Identity Providers > SAML`

* **Name**: `LemonLDAP SAML`
* **Metadata Xml**: Base64 encoded metadata
* **Binding**: `SAML_BINDING_POST`
* **Signed Request**: `Yes`
* **NameID Format**: `SAML_NAME_ID_FORMAT_EMAIL_ADDRESS`
* **Automatic creation**: `false`
* **Automatic creation**: `false`
* **Automatic update**: `false`
* **Account creation allowed (manually)**: `false` or `true`
* **Account linking allowed (manually)**: `false` or `true`
* **Determines whether an identity will be prompted to be linked to an existing account**: `Disabled`

**Download ZITADEL metadata**

![alt](/lemonldap/3.png)

#### Setup a SAML Service Provider

`SAML Service Providers > Add SAML IDP > MyApplication`

`MyApplication > Metadata`: use IDP metadata from step above

![alt](/lemonldap/4.png)

#### Testing

Open other browser with url `http://localhost:8080/ui/console/`, select login with `LemonLDAP SAML`

![alt](/lemonldap/5.png)

ZITADEL redirect to LemonLDAP login page, using one of the testing accounts from: [https://lemonldap-ng.org/documentation/2.0/authdemo.html#presentation](https://lemonldap-ng.org/documentation/2.0/authdemo.html#presentation)

![alt](/lemonldap/6.png)

Login successfully, you will be redirected to ZITADEL register form. Completed authentication flow with LemonLDAP SAML.

![alt](/lemonldap/7.png)

### LemonLDAP OIDC - ZITADEL as Service provider

#### Configure OIDC on LemonLDAP

`General Parameters > Issuer modules > OpenID Connect`

![alt](/lemonldap/8.png)

`OpenID Connect Service > Security > Keys > Signature keys > New certificate > Save`

![alt](/lemonldap/9.png)

`OpenID Connect Relying Parties > Add OpenID Connect Relying Party > rp-example > Basic`

`OpenID Connect Relying Parties > rp-example > Basic`

* **Client ID:** Generate a random string, exp: `clientId`
* **Client secret:** Generate a random string, exp: `clientSecret`
* **Allowed redirection addresses for login:** [http://localhost:8080/ui/login/login/externalidp/callback](http://localhost:8080/ui/login/login/externalidp/callback)
* **Token endpoint authentication method:** `client_secret_post`

```sh
docker inspect -f '{{range .NetworkSettings.Networks}}{{.IPAddress}}{{end}}' lemonldap_container_name

docker exec -i zitadel_container_name sh -c "echo 'IP_address auth.example.com' >> /etc/hosts"
```

Example:

```sh
docker inspect -f '{{range .NetworkSettings.Networks}}{{.IPAddress}}{{end}}' lemonldap

docker exec -i zitadel_test sh -c "echo '172.23.0.4 auth.example.com' >> /etc/hosts"

docker exec -i zitadel_test sh -c "cat /etc/hosts"

docker exec -i zitadel_test sh -c "curl http://auth.example.com/.well-known/openid-configuration"
```

#### Configure LemonLDAP OIDC Idenity Provider in ZITADEL

`Settings > Identity Providers > Generic OIDC`

* **Name**: `LemonLDAP OIDC`
* **Issuer**: `http://auth.example.com/`
* **Client ID**: `clientId`
* **Client Secret**: `clientSecret`

![alt](/lemonldap/10.png)

#### Testing

Open other browser with url `http://localhost:8080/ui/console/`, select login with `LemonLDAP OIDC`

![alt](/lemonldap/11.png)

ZITADEL redirect to LemonLDAP login page, using one of the testing accounts from: [https://lemonldap-ng.org/documentation/2.0/authdemo.html#presentation](https://lemonldap-ng.org/documentation/2.0/authdemo.html#presentation)

Confirm authorization request.

![alt](/lemonldap/12.png)

Login successfully, you will be redirected to ZITADEL register form. Completed authentication flow with LemonLDAP SAML.

![alt](/lemonldap/13.png)

### Referrences

* [https://lemonldap-ng.org/documentation/2.0/docker.html](https://lemonldap-ng.org/documentation/2.0/docker.html)
* [https://lemonldap-ng.org/documentation/latest/authopenidconnect.html](https://lemonldap-ng.org/documentation/latest/authopenidconnect.html)
* [https://lemonldap-ng.org/documentation/3.0/openidconnectservice.html](https://lemonldap-ng.org/documentation/3.0/openidconnectservice.html)
* [https://lemonldap-ng.org/documentation/2.0/authdemo.html](https://lemonldap-ng.org/documentation/2.0/authdemo.html)
* [https://lemonldap-ng.org/documentation/latest/webserviceprotection.html](https://lemonldap-ng.org/documentation/latest/webserviceprotection.html)

